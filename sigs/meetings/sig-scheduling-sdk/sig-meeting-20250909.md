
本次会议介绍了基于metrics的调度算法新框架，提出了动态算法切换与动态负载系数等设计理念，并明确了后续研发计划。
小结
1. 基于metrics的调度算法新框架

利用metrics聚合框架底层的计数器、可增减指标和直方图数据，为调度决策提供更全面的维度。
核心设计理念有两个反转：

在处理请求时，不再过度追求特征的精细化刻画，而是根据差异度决定采用何种算法。
基于Matrix数据识别出硬件间的物理差异（异构/同构），从而做出动态调整，而非原先的同构硬件假设。


新框架包含两大模块：

算法识别与切换： 根据请求的tokens分布、方差等统计特征，自动识别最佳的调度算法进行切换。
动态负载系数： 为每张卡计算一个相对性能系数，用于调整任务下发量；对于卡顿严重的Worker，将分配极小的负载。



2. Matrix指标对调度优化的帮助

请求特征分析： Platform prometheus中的指标（如处理中的请求、排队情况以及请求/生成token的数量直方图）可用于算法识别。
性能监控： TPOT和TFTT等指标可评估不同负载下的卡性能表现，辅助识别异常硬件。
部署在根服务器： 确认了此项工作的后续开发计划将在根服务器中进行。

待办
1. 项目节奏与规划

计划在本周内review会议制定的目标。
如无偏差，争取在9月底进行小范围的功能验证（穿刺结果）。
力争在10月份将相应特性上线。

2. 技术实现跟进

跟进根服务器中的开发工作。

### 会议录屏

https://www.bilibili.com/video/BV1zsHyz8EUo/
