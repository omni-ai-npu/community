本次会议主要讨论了在Omni部署中遇到的rank table问题及其动态建链和扩容的新方案。参会者分享了基于data dist新接口的动态扩缩容和故障重连方案，并探讨了其灵活性和兼容性。

1、动态建链与扩容方案介绍

介绍了基于data dist新接口的动态建链方案，通过单边建链实现动态扩容，无需配置rank table。
方案中每个P节点生成一个host class ID，包含时间戳、节点信息等，通过KV传输协议发送给D节点完成建链。
D节点维护一个class ID注册表，新节点加入时进行注册和建链，实现动态扩容。
通过时间戳机制处理节点下线后重新上线的情况，强制清除旧链接并重新建链。

2、动态缩容与故障处理

节点下线后，通过心跳检测机制检测断开连接，并主动清理资源占用，避免长期占用D节点的连接数限制（最多512个）。
临时方案使用ZMQ端口进行双向心跳检查，超时未更新则判定节点下线并清理资源。

3、方案优势与兼容性讨论

新方案支持单边建链，无需维护rank table，灵活性高，适合动态扩容场景。
与旧方案兼容性较好，保留原有建链代码即可，新方案和旧方案可同时支持。
建议优先使用新方案，避免rank table在动态扩容时的复杂性。

4、会议录屏

https://www.bilibili.com/video/BV1qwm4BXE1A 